<?
$svn_data = shell_exec("grep '!svn' .svn/all-wcprops");

if (preg_match("/.*\/ver\/([0-9]*)\/(tags|branches|trunk)\/(.*)/", $svn_data, $matches)) {	
	$svn_version = $matches[1];
	
	switch ($matches[2])
	{
		case 'tags':
			preg_match("/release_(.*)/", $matches[3], $version);
			$revision = "v{$version[1]}";			
		break;
		
		case 'branches':
			$revision = "<font color='red'>DEV: ". ucwords(str_replace("_", " ", $matches[3])) ." r{$svn_version}</font>";
		break;
				
		case 'trunk':
		default:		
			$revision = "{$svn_version}";
	}
	
	
	$version = "<strong><span id='revision_number'>$revision</span></strong>";
} else {
	$version = "";
}
?>


<div id="Footer">
		<div class="footerContentLeft"><?= date("l, F d, Y g:i A"); //Friday, February 14, 2003 2:07 PM ?></div>
		<div class="footerContentRight">
			Powered By <font color="#666699">
			<strong>Reserves</strong></font><strong><font color="#993333">Direct</font></strong><br/>
			<?= $version ?>			
		</div>
		<div class="footerContentCenter">Emory Libraries, Atlanta, GA 30322<br>
			Emory University &copy; 2004 - <?= date("Y"); //2008 ?><br>
		</div>
</div>
